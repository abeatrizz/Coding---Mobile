<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Produtos - Bellany</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
  <!-- Custom CSS (se necessário) -->
  <link href="css/styles.css" rel="stylesheet">
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container px-4 px-lg-5">
      <a class="navbar-brand" href="index.html"> <img src="imgs/Bellany.png" alt="Bellany" class="img-fluid" style="max-height: 80px;"> </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
          <li class="nav-item">
            <a class="nav-link" href="index.html#produtos">Produtos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#!">Minha Conta</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#!">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#!">Contato</a>
          </li>
        </ul>
        <form class="d-flex me-5" style="gap: 5px">
          <button class="btn btn-outline-dark" type="button" data-bs-toggle="modal" data-bs-target="#cartModal">
            <i class="bi-cart-fill me-1"></i>
            Carrinho
            <span id="cart-count" class="badge bg-dark text-white ms-1 rounded-pill">0</span>
          </button>
          <button class="btn btn-outline-dark ms-2" type="button" data-bs-toggle="modal" data-bs-target="#accountModal">
            <i class="bi-person-circle me-1"></i>
            Minha Conta
          </button>
        </form>
      </div>
    </div>
  </nav>

  <!-- Header para Detalhes do Produto -->
  <header class="bg-dark py-5">
    <div class="container px-4 px-lg-5">
      <div class="text-center text-white">
        <h1 class="display-4">Detalhes do Produto</h1>
      </div>
    </div>
  </header>

  <!-- Seção de Detalhes do Produto -->
  <section class="py-5">
    <div class="container px-4 px-lg-5">
      <div id="product-detail" class="row">
        <!-- Os detalhes do produto serão injetados aqui via JavaScript -->
      </div>
    </div>
  </section>

  <!-- Cart Modal-->
  <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cartModalLabel">Shopping Cart</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="cart-items" class="list-group">
            <!-- Os itens do carrinho serão inseridos aqui dinamicamente -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="checkoutBtn">Checkout</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Account Modal (exemplo simples) -->
  <div class="modal fade" id="accountModal" tabindex="-1" aria-labelledby="accountModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="accountModalLabel">Minha Conta</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Detalhes da conta...</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
          <button type="button" class="btn btn-primary">Salvar alterações</button>
        </div>
      </div>
    </div>
  </div>

    <div id="endereco" class="container-sm margin scrollMenu">
      <div class="container-sm">
          <div class="row">
              <div class="col-6">
                  <h3>Endereço e Contato:</h3>
                  <div class="card topBcgEnd my-2"></div>
                  <div class="container-sm">
                      <address>
                          <b>E-mail:</b> <a href="mailto:bellanymoda@gmail.com">bellanymoda@gmail.com</a><br>
                          <b>Visite:</b> <a href="https://www.instagram.com/bellanymodass/">@bellanymodass</a><br>
                          <b>Telefone: </b> (81) 98501-6654 <br>
                          <b>Endereço: </b> Tv. do Março, 517, Aguazinha, Olinda - PE
                      </address>
                  </div>
              </div>
              <div class="col-6">
                  <iframe
                      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d987.7462880348048!2d-34.88534623037959!3d-8.000467471449685!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7ab178ab270eea7%3A0x56962809dd616360!2sEstr.%20de%20Aguazinha%2C%20570%20-%20Aguazinha%2C%20Olinda%20-%20PE%2C%2053270-240!5e0!3m2!1spt-PT!2sbr!4v1739824219242!5m2!1spt-PT!2sbr"
                      width="500" height="250" style="border:0;" allowfullscreen="" loading="lazy"
                      referrerpolicy="no-referrer-when-downgrade"></iframe>
              </div>
          </div>
      </div>
  </div>
</body>
  <!-- Footer-->
<footer>
  <samp>Ana Beatriz © Copyright 2025 - Todos os direitos reservados</samp>
</footer>

  <!-- Bootstrap Bundle com Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom Cart JS e Injeção de Produto Detalhado -->
  <script>
    // Inicializa o carrinho como um array vazio
    let cart = [];

    // Função para atualizar a exibição do carrinho
    function updateCart() {
      const cartCount = document.getElementById("cart-count");
      const cartItemsContainer = document.getElementById("cart-items");

      // Limpa os itens existentes
      cartItemsContainer.innerHTML = '';

      // Adiciona cada item no modal do carrinho
      cart.forEach((item, index) => {
        const listItem = document.createElement('div');
        listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
        listItem.innerHTML = `
          <span>${item.name} - ${item.price}</span>
          <button class="btn btn-danger btn-sm remove-item" data-index="${index}">Remove</button>
        `;
        cartItemsContainer.appendChild(listItem);
      });

      // Atualiza a contagem de itens no carrinho
      cartCount.textContent = cart.length;
    }

    // Função para adicionar produto ao carrinho
    function addToCart(event) {
      const button = event.target;
      const targetButton = button.closest('.add-to-cart');
      const productName = targetButton.getAttribute('data-product');
      const productPrice = targetButton.getAttribute('data-price');
      const productImage = targetButton.getAttribute('data-image');

      // Cria um novo item
      const newItem = {
        name: productName,
        price: productPrice,
        image: productImage
      };

      cart.push(newItem);
      updateCart();
    }

    // Função para remover produto do carrinho
    function removeFromCart(event) {
      const index = event.target.getAttribute('data-index');
      cart.splice(index, 1);
      updateCart();
    }

    // Event listener para botões de adicionar ao carrinho
    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', addToCart);
    });

    // Event listener para remover itens do carrinho
    document.getElementById("cart-items").addEventListener('click', function (event) {
      if (event.target.classList.contains('remove-item')) {
        removeFromCart(event);
      }
    });

    // Atualiza o carrinho quando a página carrega
    updateCart();

    // "Banco de dados" simulado com os produtos
    const products = {
      "1": {
        name: "Body Regata",
        price: "R$ 45,00",
        description: "Detalhes sobre o produto Body Regata. Este produto é ideal para um look casual com muito estilo.",
        image: "imgs/BodyLiso.jpeg",
        additionalInfo: "Informações adicionais sobre o Body Regata."
      },
      "2": {
        name: "Básica Suede",
        price: "R$ 18,00",
        description: "Detalhes sobre o produto Básica Suede. Um item promocional com design moderno.",
        image: "imgs/BasicaSuede.jpeg",
        additionalInfo: "Informações adicionais sobre a Básica Suede."
      },
      "3": {
        name: "Body Manga longa",
        price: "R$ 85,00",
        description: "Detalhes sobre o produto Body Manga longa. Confortável e elegante para qualquer ocasião.",
        image: "imgs/BodyEstampado1.jpeg",
        additionalInfo: "Informações adicionais sobre o Body Manga longa."
      },
      "4": {
        name: "Macacão Bordado",
        price: "R$ 120,00",
        description: "Detalhes sobre o Macacão Bordado. Peça sofisticada e única para compor seu visual.",
        image: "imgs/MacacaoBordado.jpg",
        additionalInfo: "Informações adicionais sobre o Macacão Bordado."
      },
      "5": {
        name: "Conjunto 3 peças",
        price: "R$ 110,00",
        description: "Detalhes sobre o Conjunto 3 peças. Um conjunto versátil para diversas ocasiões.",
        image: "imgs/Conjunto1.jpeg",
        additionalInfo: "Informações adicionais sobre o Conjunto 3 peças."
      },
      "6": {
        name: "Macaquinho em tule bordado",
        price: "R$ 210,00",
        description: "Detalhes sobre o Macaquinho em tule bordado. Uma peça marcante para um look sofisticado.",
        image: "imgs/MacaquinhoTule.jpeg",
        additionalInfo: "Informações adicionais sobre o Macaquinho em tule bordado."
      },
      "7": {
        name: "Saia Longa",
        price: "R$ 105,00",
        description: "Detalhes sobre o produto Saia Longa. Uma saia elegante que combina com diversas peças.",
        image: "imgs/SaiaLonga.jpeg",
        additionalInfo: "Informações adicionais sobre a Saia Longa."
      },
      "8": {
        name: "Short Linho",
        price: "R$ 100,00",
        description: "Detalhes sobre o produto Short Linho. Confortável e estiloso para o verão.",
        image: "imgs/ShortLinho.jpeg",
        additionalInfo: "Informações adicionais sobre o Short Linho."
      }
    };

    // Função para obter parâmetros da URL
    function getQueryParams() {
      const params = new URLSearchParams(window.location.search);
      return Object.fromEntries(params.entries());
    }

    const queryParams = getQueryParams();
    const productId = queryParams.id;
    const product = products[productId];
    const productDetailDiv = document.getElementById('product-detail');

    if (product) {
      productDetailDiv.innerHTML = `
        <div class="col-md-6">
          <img src="${product.image}" alt="${product.name}" class="img-fluid rounded">
        </div>
        <div class="col-md-6">
          <h2 class="fw-bolder">${product.name}</h2>
          <h4 class="text-muted">${product.price}</h4>
          <p>${product.description}</p>
          <p><strong>Informações Adicionais:</strong> ${product.additionalInfo}</p>
          <div class="d-flex align-items-center mb-3">
            <input class="form-control me-3" type="number" value="1" min="1" style="width: 80px;">
            <button class="btn btn-outline-dark add-to-cart" data-product="${product.name}" data-price="${product.price}" data-image="${product.image}">
              <i class="bi bi-cart-plus"></i> Adicionar ao carrinho
            </button>
          </div>
        </div>
      `;
    } else {
      productDetailDiv.innerHTML = `<p>Produto não encontrado.</p>`;
    }
  </script>
</body>

</html>
